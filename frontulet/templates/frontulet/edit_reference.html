{% extends "frontulet/form_base.html" %}
{% load staticfiles %}
{% load i18n %}

     {% block title %}
         <h1>{% trans "Edit Reference" %} <small>{% trans "Change reference name or replace HTML by uploading a ZIP file." %}</small></h1>
   <p>{% trans "To replace the reference HTML, use this form to upload a ZIP file that contains between one and five HTML files along with all linked CSS, JPG, PNG, GIF, and/or MP4 files (no other file types are allowed). The HTML files should have names ending in -XX.html, where XX is the language code. Use oc for Aranese, es for Spanish, ca for Catalan, fr for French, en for English, and to for all languages. (Note tha tyou can also use capital letters and you can use three-letter codes; only the first two letters after the '-' will be evaluated. Also, note that files ending in '-to.html' will be displayed for all language users.) Make sure the links in the HTML file use relative paths (e.g. src='poi.png' not src='http://holet.com/poi.png') unless they are links to resources that are hosted on another server (in which case use the absolute path to that server (e.g. src='http://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Agapanthia_pustulifera_copulation_1.jpg/500px-Agapanthia_pustulifera_copulation_1.jpg'). Note that it is not necessary to include linked CSS. If no CSS file is included, the server will create one, which will be used when the reference is displayed in the Holet mobile apps. (When the reference is displayed on this website, it will use unique CSS to match the website's formatting, regardless of whether you include your own CSS file with it.)" %}</p>

                 <button id="lang_button" type="button" class="btn btn-primary"><span
                    class="glyphicon glyphicon-chevron-down"></span> {% trans "Show all languages" %}
            </button>

     {% endblock %}


    {% block cancel_button %}<a href="{% url 'show_route_detail' route_id %}#h{{ highlight_id}}">{% trans "Cancel" %}</a>{% endblock %}

{% block body_scripts %}
{{ block.super }}

    <script>


    var this_lang = "{{ request.LANGUAGE_CODE }}";

$("#id_name_oc, label[for='id_name_oc']").addClass("oc lang");
$("#id_name_es, label[for='id_name_es']").addClass("es lang");
$("#id_name_ca, label[for='id_name_ca']").addClass("ca lang");
$("#id_name_fr, label[for='id_name_fr']").addClass("fr lang");
$("#id_name_en, label[for='id_name_en']").addClass("en lang");

    var $lb = $("#lang_button");


    var showing_all_languages = false;



    function setup_lang_display() {
        if (!showing_all_languages) {

            $lb.html(" <span class='glyphicon glyphicon-chevron-down'></span> Display all languages");
            $(".lang").hide();

            if (this_lang == 'oc') {
            $(".oc").show();
            }
            else if (this_lang == 'es') {
            $(".es").show();
            }
            else if (this_lang == 'ca') {
            $(".ca").show();
            }
            else if (this_lang == 'fr') {
            $(".fr").show();
            }
            else if (this_lang == 'en') {
            $(".en").show();
            }


        } else {
            $lb.html(" <span class='glyphicon glyphicon-chevron-down'></span> Display only your language");

            $(".lang").show();


        }

    }

    function toggle_langs() {
        showing_all_languages = !showing_all_languages;
        setup_lang_display();
    }


    setup_lang_display();

    $lb.on("click", toggle_langs);

    </script>

{% endblock %}